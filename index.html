<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Words Learning Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            color: #764ba2;
            font-size: 2.5em;
            margin-bottom: 20px;
            animation: rainbow 3s ease-in-out infinite;
        }

        @keyframes rainbow {
            0%, 100% { color: #764ba2; }
            25% { color: #f093fb; }
            50% { color: #4facfe; }
            75% { color: #43e97b; }
        }

        .input-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 20px;
        }

        .words-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .word-input {
            padding: 10px;
            border: 3px solid #fff;
            border-radius: 15px;
            font-size: 1.1em;
            background: rgba(255, 255, 255, 0.9);
            transition: all 0.3s;
        }

        .word-input:focus {
            transform: scale(1.05);
            outline: none;
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
        }

        button {
            padding: 12px 25px;
            font-size: 1em;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            text-transform: uppercase;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .start-btn { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; }
        .random-btn { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; }
        .clear-btn { background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%); color: white; }
        .end-btn { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; }
        .speak-btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }

        .game-section {
            display: none;
        }

        .hint-card {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 20px;
        }

        .hint {
            font-size: 1.2em;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 10px;
            border-left: 5px solid #4facfe;
        }

        .answer-input {
            padding: 15px;
            font-size: 1.3em;
            border: 3px solid #4facfe;
            border-radius: 15px;
            width: 100%;
            margin: 10px 0;
            text-align: center;
        }

        .score-board {
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            color: white;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            font-size: 1.3em;
            margin: 20px 0;
        }

        .feedback {
            font-size: 1.2em;
            padding: 10px;
            border-radius: 10px;
            margin: 10px 0;
            text-align: center;
            font-weight: bold;
        }

        .correct {
            background: #43e97b;
            color: white;
        }

        .incorrect {
            background: #ff6b6b;
            color: white;
        }

        .loading {
            text-align: center;
            padding: 20px;
        }

        .spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #764ba2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .category-btn {
            padding: 10px;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9em;
            color: #764ba2;
            font-weight: bold;
        }

        .celebration {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1000;
            background: white;
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .trophy {
            font-size: 80px;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🌟 Words Learning Game 🌟</h1>

        <div class="input-section" id="inputSection">
            <h2 style="color: white; text-align: center; margin-bottom: 20px;">📝 Inserisci da 1 a 10 parole in inglese</h2>
            <div class="words-grid">
                <input type="text" class="word-input" placeholder="Word 1" id="word1">
                <input type="text" class="word-input" placeholder="Word 2" id="word2">
                <input type="text" class="word-input" placeholder="Word 3" id="word3">
                <input type="text" class="word-input" placeholder="Word 4" id="word4">
                <input type="text" class="word-input" placeholder="Word 5" id="word5">
                <input type="text" class="word-input" placeholder="Word 6" id="word6">
                <input type="text" class="word-input" placeholder="Word 7" id="word7">
                <input type="text" class="word-input" placeholder="Word 8" id="word8">
                <input type="text" class="word-input" placeholder="Word 9" id="word9">
                <input type="text" class="word-input" placeholder="Word 10" id="word10">
            </div>
            
            <div>
                <h3 style="color: white; text-align: center; margin: 20px 0 10px;">🎲 Oppure scegli una categoria:</h3>
                <div class="category-grid">
                    <button class="category-btn" id="animalsBtn">🦁 Animals</button>
                    <button class="category-btn" id="foodBtn">🍕 Food</button>
                    <button class="category-btn" id="schoolBtn">📚 School</button>
                    <button class="category-btn" id="colorsBtn">🎨 Colors</button>
                    <button class="category-btn" id="emotionsBtn">😊 Emotions</button>
                    <button class="category-btn" id="actionsBtn">🏃 Actions</button>
                    <button class="category-btn" id="natureBtn">🌳 Nature</button>
                    <button class="category-btn" id="transportBtn">🚗 Transport</button>
                </div>
            </div>

            <div class="button-group">
                <button class="start-btn" id="startBtn">🎮 Start Game</button>
                <button class="random-btn" id="randomBtn">🎲 Random Mix</button>
                <button class="clear-btn" id="clearBtn">🧹 Clear All</button>
            </div>
        </div>

        <div class="game-section" id="gameSection">
            <div class="score-board">
                <div>🏆 Score: <span id="score">0</span></div>
                <div>📍 Question: <span id="currentQuestion">1</span> of <span id="totalQuestions">10</span></div>
            </div>

            <div class="hint-card">
                <h3 style="color: #764ba2; margin-bottom: 15px;">💡 Suggerimenti:</h3>
                <div id="hints">
                    <div class="loading" id="loadingHints" style="display: none;">
                        <div class="spinner"></div>
                        <p>Generating hints...</p>
                    </div>
                </div>
                <input type="text" class="answer-input" id="answerInput" placeholder="Scrivi la parola qui...">
                <div style="text-align: center;">
                    <button class="start-btn" id="checkBtn">✅ Check Answer</button>
                    <button class="speak-btn" id="speakBtn">🔊 Pronuncia</button>
                </div>
                <div id="feedback"></div>
            </div>

            <div class="button-group">
                <button class="end-btn" id="endBtn">🔚 End Game</button>
            </div>
        </div>

        <div class="celebration" id="celebration">
            <div class="trophy">🏆</div>
            <h2 style="color: #764ba2;">CONGRATULAZIONI!</h2>
            <p style="font-size: 1.3em; margin: 20px 0;">Hai vinto! Sei un campione!</p>
            <button class="start-btn" id="closeCelebrationBtn">Gioca Ancora</button>
        </div>
    </div>

    <script>
        // Game state
        let words = [];
        let currentWordIndex = 0;
        let score = 0;
        let currentWord = '';

        // Word categories
        const categories = {
            animals: ['cat', 'dog', 'elephant', 'lion', 'tiger', 'bear', 'monkey', 'zebra', 'giraffe', 'penguin'],
            food: ['pizza', 'pasta', 'bread', 'cheese', 'apple', 'banana', 'carrot', 'cookie', 'sandwich', 'juice'],
            school: ['book', 'pencil', 'teacher', 'desk', 'computer', 'homework', 'backpack', 'library', 'student', 'classroom'],
            colors: ['red', 'blue', 'green', 'yellow', 'purple', 'orange', 'pink', 'black', 'white', 'brown'],
            emotions: ['happy', 'sad', 'angry', 'excited', 'tired', 'scared', 'surprised', 'proud', 'nervous', 'calm'],
            actions: ['run', 'jump', 'walk', 'swim', 'dance', 'sing', 'play', 'read', 'write', 'draw'],
            nature: ['tree', 'flower', 'mountain', 'river', 'ocean', 'forest', 'desert', 'cloud', 'rain', 'sun'],
            transport: ['car', 'bus', 'train', 'airplane', 'bicycle', 'boat', 'helicopter', 'motorcycle', 'truck', 'subway']
        };

        // Event listeners
        document.getElementById('startBtn').addEventListener('click', startGame);
        document.getElementById('randomBtn').addEventListener('click', insertRandomWords);
        document.getElementById('clearBtn').addEventListener('click', clearAll);
        document.getElementById('checkBtn').addEventListener('click', checkAnswer);
        document.getElementById('speakBtn').addEventListener('click', speakWord);
        document.getElementById('endBtn').addEventListener('click', endGame);
        document.getElementById('closeCelebrationBtn').addEventListener('click', closeCelebration);

        // Category buttons
        document.getElementById('animalsBtn').addEventListener('click', () => insertCategory('animals'));
        document.getElementById('foodBtn').addEventListener('click', () => insertCategory('food'));
        document.getElementById('schoolBtn').addEventListener('click', () => insertCategory('school'));
        document.getElementById('colorsBtn').addEventListener('click', () => insertCategory('colors'));
        document.getElementById('emotionsBtn').addEventListener('click', () => insertCategory('emotions'));
        document.getElementById('actionsBtn').addEventListener('click', () => insertCategory('actions'));
        document.getElementById('natureBtn').addEventListener('click', () => insertCategory('nature'));
        document.getElementById('transportBtn').addEventListener('click', () => insertCategory('transport'));

        // Answer input enter key
        document.getElementById('answerInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') checkAnswer();
        });

        function insertCategory(category) {
            const catWords = categories[category];
            for (let i = 1; i <= 10; i++) {
                document.getElementById(`word${i}`).value = catWords[i-1] || '';
            }
        }

        function insertRandomWords() {
            const allWords = Object.values(categories).flat();
            for (let i = 1; i <= 10; i++) {
                const randomWord = allWords[Math.floor(Math.random() * allWords.length)];
                document.getElementById(`word${i}`).value = randomWord;
            }
        }

        function clearAll() {
            for (let i = 1; i <= 10; i++) {
                document.getElementById(`word${i}`).value = '';
            }
        }

        async function startGame() {
            words = [];
            for (let i = 1; i <= 10; i++) {
                const value = document.getElementById(`word${i}`).value.trim();
                if (value) words.push(value.toLowerCase());
            }

            if (words.length === 0) {
                alert('Per favore inserisci almeno una parola!');
                return;
            }

            document.getElementById('inputSection').style.display = 'none';
            document.getElementById('gameSection').style.display = 'block';
            document.getElementById('totalQuestions').textContent = words.length;
            
            currentWordIndex = 0;
            score = 0;
            updateScore();
            await loadNextWord();
        }

        async function loadNextWord() {
            if (currentWordIndex >= words.length) {
                showGameSummary();
                return;
            }

            currentWord = words[currentWordIndex];
            document.getElementById('currentQuestion').textContent = currentWordIndex + 1;
            document.getElementById('answerInput').value = '';
            document.getElementById('feedback').innerHTML = '';

            await generateHints(currentWord);
        }

        async function generateHints(word) {
            const hintsDiv = document.getElementById('hints');
            const loadingDiv = document.getElementById('loadingHints');
            
            loadingDiv.style.display = 'block';
            hintsDiv.innerHTML = '';

            try {
                const response = await fetch('https://www.robertozanoni.it/wp-json/gemini/v1/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: `You are helping a 7-year-old child guess the word "${word}".

Create 5-6 SPECIFIC clues that describe what "${word}" actually IS or DOES:

IMPORTANT RULES:
- Describe the actual characteristics, function, or nature of "${word}"
- Use concrete, visual descriptions a child can imagine
- Connect to the child's real experiences but BE SPECIFIC about "${word}"
- NO letter hints, NO spelling, NO "it starts with..." or "it ends with..."
- NO generic hints like "you see this at school" 
- Each clue must help understand what "${word}" means

Structure your clues like this:
1. What category/type of thing it is
2. What it looks like or what it does
3. When or where you specifically use/see it
4. A specific characteristic unique to it
5. How it relates to other things the child knows
6. The most obvious, specific clue that almost gives it away

For example, if the word was "elephant":
- It's a very big grey animal
- It has a long nose called a trunk
- You see them at the zoo or circus
- It has huge ears and thick legs
- It's bigger than a car but smaller than a house
- It sprays water with its trunk to wash

Now create 5-6 SPECIFIC clues for "${word}" that describe what it actually is.
Return ONLY the clues, one per line, no numbering.`
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    let text = data.text || data.response || data.content || data.result || data.data || '';
                    
                    console.log('API Response:', text);
                    
                    if (text) {
                        // Parse clues
                        let clues = [];
                        
                        // Try different separators
                        if (text.includes('\n')) {
                            clues = text.split('\n')
                                .map(c => c.trim())
                                .filter(c => c.length > 0 && c.length < 150);
                        } else if (text.includes('. ')) {
                            clues = text.split('. ')
                                .map(c => c.trim())
                                .filter(c => c.length > 0);
                        } else if (text.match(/\d+\./)) {
                            clues = text.split(/\d+\./)
                                .map(c => c.trim())
                                .filter(c => c.length > 0);
                        }

                        // Clean up clues
                        clues = clues.map(clue => {
                            return clue
                                .replace(/^\d+[\.\)]\s*/, '')
                                .replace(/^[-•*]\s*/, '')
                                .replace(/\*\*/g, '')
                                .trim();
                        }).filter(c => c.length > 5 && !c.toLowerCase().includes(word.toLowerCase()));

                        if (clues.length > 0) {
                            const emojis = ['🔍', '👀', '✨', '💡', '🎯', '⭐'];
                            hintsDiv.innerHTML = clues.slice(0, 6).map((clue, index) => 
                                `<div class="hint">${emojis[index] || '💡'} ${clue}</div>`
                            ).join('');
                        } else {
                            throw new Error('No valid clues generated');
                        }
                    } else {
                        throw new Error('Empty response from API');
                    }
                } else {
                    throw new Error(`API error: ${response.status}`);
                }
            } catch (error) {
                console.error('Error generating hints:', error);
                
                // Specific fallback hints
                const hints = generateSpecificFallback(word);
                hintsDiv.innerHTML = hints.map((hint, index) => {
                    const emojis = ['🔍', '👀', '✨', '💡', '🎯'];
                    return `<div class="hint">${emojis[index] || '⭐'} ${hint}</div>`;
                }).join('');
            } finally {
                loadingDiv.style.display = 'none';
            }
        }

        function generateSpecificFallback(word) {
            const wordLower = word.toLowerCase();
            
            // Specific hints for common words - WITHOUT revealing the word!
            const specificHints = {
                // Animals
                'cat': [
                    'A small furry pet animal',
                    'It purrs when happy and meows when hungry',
                    'It has whiskers and a long tail',
                    'It loves to chase mice and birds',
                    'It climbs trees and sleeps a lot',
                    'A pet that says "meow"'
                ],
                'dog': [
                    'A pet animal that barks',
                    'It wags its tail when happy',
                    'People walk it on a leash',
                    'It can fetch balls and sticks',
                    'It protects houses from strangers',
                    'Man\'s best friend that says "woof"'
                ],
                'elephant': [
                    'The biggest animal that lives on land',
                    'It has a long trunk for a nose',
                    'Its ears are huge like big fans',
                    'It loves to spray water on itself',
                    'It has ivory tusks and grey skin',
                    'A huge grey animal with a trunk'
                ],
                'bird': [
                    'An animal that flies in the sky',
                    'It has wings and feathers',
                    'It builds nests in trees',
                    'It lays eggs and sings songs',
                    'It has a beak instead of a mouth',
                    'A flying animal that tweets'
                ],
                
                // Food
                'pizza': [
                    'A round, flat food from Italy',
                    'It has cheese and tomato on top',
                    'You can add pepperoni or vegetables',
                    'It comes in triangular slices',
                    'Delivered hot in a square box',
                    'Round food with melted cheese on top'
                ],
                'apple': [
                    'A round fruit that grows on trees',
                    'It can be red, green, or yellow',
                    'It\'s crunchy when you bite it',
                    'It has seeds in the middle',
                    'You can make juice or pie with it',
                    'A crunchy fruit that keeps doctors away'
                ],
                'bread': [
                    'A food made from flour and water',
                    'You slice it to make sandwiches',
                    'It comes from the bakery or oven',
                    'Toast is made by cooking this',
                    'It can be white, brown, or whole wheat',
                    'Sliced food you use for sandwiches'
                ],
                
                // Actions
                'run': [
                    'Moving your legs very fast',
                    'Going faster than walking',
                    'What you do in races',
                    'Your feet leave the ground when doing this',
                    'You breathe hard after doing this',
                    'The fast way to move using legs'
                ],
                'jump': [
                    'Pushing yourself up with your legs',
                    'Both feet leave the ground',
                    'What you do on a trampoline',
                    'How you get over puddles',
                    'Going up and down quickly',
                    'Hopping up into the air'
                ],
                'swim': [
                    'Moving through water',
                    'Using arms and legs in a pool',
                    'What fish do all the time',
                    'You need to hold your breath underwater',
                    'Moving in water without sinking',
                    'How you move in a swimming pool'
                ],
                
                // Colors
                'red': [
                    'The color of ripe strawberries',
                    'The color of blood and roses',
                    'Stop signs are this color',
                    'Fire trucks are painted this',
                    'The first color of the rainbow',
                    'The color of tomatoes and cherries'
                ],
                'blue': [
                    'The color of the sky on sunny days',
                    'The color of deep ocean water',
                    'Blueberries are this color',
                    'Many school uniforms are this',
                    'The color of Facebook\'s logo',
                    'The sky and sea are this color'
                ],
                
                // School items
                'book': [
                    'Pages with words bound together',
                    'You read stories from this',
                    'It has a cover and many pages',
                    'Found on shelves in libraries',
                    'Teachers read these to the class',
                    'Something you read with pages inside'
                ],
                'pencil': [
                    'A wooden stick for writing',
                    'It has graphite in the middle',
                    'You sharpen it when it gets dull',
                    'It has an eraser on top',
                    'You write and draw with this',
                    'A yellow stick you write with'
                ],
                
                // Nature
                'tree': [
                    'A tall plant with a trunk',
                    'It has branches and leaves',
                    'Birds build nests in these',
                    'It gives us wood and oxygen',
                    'Apples and oranges grow on these',
                    'A big plant with leaves and branches'
                ],
                'sun': [
                    'The bright yellow star in our sky',
                    'It gives us light and warmth',
                    'It rises in the morning',
                    'You need sunglasses to look near it',
                    'Plants need this to grow',
                    'The big bright circle in the daytime sky'
                ],
                'sky': [
                    'The space above us when we look up',
                    'It\'s blue during the day',
                    'Clouds float in this',
                    'Birds and airplanes fly through it',
                    'It turns orange and pink at sunset',
                    'Where you see stars at night'
                ],
                'moon': [
                    'The big white circle in the night',
                    'It changes shape during the month',
                    'Sometimes it\'s full, sometimes a crescent',
                    'It lights up the night',
                    'Astronauts have walked on it',
                    'The bright thing you see at night with stars'
                ],
                
                // Emotions
                'happy': [
                    'The feeling when you smile',
                    'How you feel at your birthday',
                    'The opposite of sad',
                    'When something good happens',
                    'The feeling of joy and fun',
                    'How you feel when laughing'
                ],
                'sad': [
                    'The feeling when you cry',
                    'How you feel when hurt',
                    'The opposite of happy',
                    'When you miss someone',
                    'Feeling down or upset',
                    'The feeling that makes tears come'
                ],
                
                // Transport
                'car': [
                    'A vehicle with four wheels',
                    'It runs on roads and streets',
                    'Your family drives this to places',
                    'It has seats, steering wheel, and doors',
                    'You put petrol in it to make it go',
                    'A machine that takes you places on roads'
                ],
                'train': [
                    'Long vehicle that runs on tracks',
                    'It has many carriages connected together',
                    'It stops at stations to pick up people',
                    'It makes a "choo-choo" sound',
                    'It travels on rails made of metal',
                    'Transport that goes on railway tracks'
                ]
            };
            
            // Return specific hints if available
            if (specificHints[wordLower]) {
                return specificHints[wordLower];
            }
            
            // Generic descriptive fallback WITHOUT revealing the word
            return [
                'It\'s something important to know about',
                'You learn about this in school',
                'Many people talk about this',
                'It\'s part of everyday life',
                'You might see or use this often',
                'Think carefully about what this could be'
            ];
        }

        function checkAnswer() {
            const answer = document.getElementById('answerInput').value.trim().toLowerCase();
            const feedbackDiv = document.getElementById('feedback');
            
            if (!answer) return;

            if (answer === currentWord) {
                score++;
                feedbackDiv.innerHTML = '<div class="feedback correct">✨ CORRETTO! Bravissimo! ✨</div>';
                setTimeout(() => {
                    currentWordIndex++;
                    loadNextWord();
                }, 2000);
            } else {
                feedbackDiv.innerHTML = `<div class="feedback incorrect">❌ La parola corretta è: ${currentWord}</div>`;
                setTimeout(() => {
                    currentWordIndex++;
                    loadNextWord();
                }, 3000);
            }
            
            updateScore();
        }

        function updateScore() {
            document.getElementById('score').textContent = score;
        }

        function speakWord() {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(currentWord);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            }
        }

        function showGameSummary() {
            const percentage = Math.round((score / words.length) * 100);
            const hintsDiv = document.getElementById('hints');
            
            let emoji = percentage === 100 ? '🏆' : percentage >= 80 ? '🌟' : percentage >= 60 ? '😊' : '🎯';
            let message = percentage === 100 ? 'PERFETTO!' : percentage >= 80 ? 'Eccellente!' : percentage >= 60 ? 'Bravo!' : 'Continua!';
            
            hintsDiv.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 80px;">${emoji}</div>
                    <h2 style="color: #764ba2;">${message}</h2>
                    <p style="font-size: 1.3em;">Score: ${score}/${words.length} (${percentage}%)</p>
                </div>
            `;
            
            document.getElementById('answerInput').style.display = 'none';
            document.getElementById('checkBtn').style.display = 'none';
            document.getElementById('speakBtn').style.display = 'none';
            
            if (percentage === 100 && words.length >= 10) {
                setTimeout(() => {
                    document.getElementById('celebration').style.display = 'block';
                }, 500);
            }
        }

        function closeCelebration() {
            document.getElementById('celebration').style.display = 'none';
            endGame();
        }

        function endGame() {
            document.getElementById('gameSection').style.display = 'none';
            document.getElementById('inputSection').style.display = 'block';
            document.getElementById('answerInput').style.display = 'block';
            document.getElementById('checkBtn').style.display = 'inline-block';
            document.getElementById('speakBtn').style.display = 'inline-block';
            currentWordIndex = 0;
            score = 0;
        }
    </script>
</body>
</html>
